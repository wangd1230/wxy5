{"version":3,"sources":["webpack:///src/pages/bg.vue","webpack:///./src/pages/bg.vue?e39e","webpack:///./src/pages/bg.vue"],"names":["bg","props","lineColor","type","String","default","lineNum","Number","pointColor","bgWrap","id","methods","can","self","this","canvas","document","getElementById","ctx","getContext","cw","width","window","innerWidth","ch","height","innerHeight","fillStyle","linesNum","linesRy","requestId","Line","flag","a","b","y","x","randomIntFromInterval","va","vb","draw","strokeStyle","beginPath","moveTo","lineTo","stroke","update","edges","i","l","push","Draw","requestAnimationFrame","clearRect","length","j","Intersect2lines","Init","cancelAnimationFrame","l1","l2","p","p1","p2","p3","p4","denominator","ua","ub","arc","Math","PI","fill","mn","mx","random","setTimeout","addEventListener","mounted","pages_bg","render","_h","$createElement","_c","_self","style","background","attrs","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"js/4.24f1cf77550f640df6db.js","sourcesContent":["<template>\r\n<div class=\"\">\r\n  <canvas :id=\"id\" :style=\"{background: bgWrap}\"></canvas>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    lineColor: {\r\n      type: String,\r\n      default: '#ccc'\r\n    },\r\n    lineNum: {\r\n      type: Number,\r\n      default: 3\r\n    },\r\n    pointColor: {\r\n      type: String,\r\n      default: '#ccc'\r\n    },\r\n    bgWrap: {\r\n      type: String,\r\n      default: '#e9e9e9'\r\n    },\r\n    id: {\r\n      type: String,\r\n      default: 'canvas'\r\n    }\r\n  },\r\n  methods: {\r\n    can() {\r\n      let self = this\r\n      var canvas = document.getElementById(this.id);\r\n      var ctx = canvas.getContext(\"2d\");\r\n      var cw = canvas.width = window.innerWidth,\r\n        cx = cw / 2;\r\n      var ch = canvas.height = window.innerHeight,\r\n        cy = ch / 2;\r\n\r\n      ctx.fillStyle = '#000';\r\n      var linesNum = self.lineNum;\r\n      var linesRy = [];\r\n      var requestId = null;\r\n\r\n      function Line(flag) {\r\n        this.flag = flag;\r\n        this.a = {};\r\n        this.b = {};\r\n        if (flag == \"v\") {\r\n          this.a.y = 0;\r\n          this.b.y = ch;\r\n          this.a.x = randomIntFromInterval(0, ch);\r\n          this.b.x = randomIntFromInterval(0, ch);\r\n        } else if (flag == \"h\") {\r\n          this.a.x = 0;\r\n          this.b.x = cw;\r\n          this.a.y = randomIntFromInterval(0, cw);\r\n          this.b.y = randomIntFromInterval(0, cw);\r\n        }\r\n        this.va = randomIntFromInterval(25, 100) / 100;\r\n        this.vb = randomIntFromInterval(25, 100) / 100;\r\n\r\n        this.draw = function() {\r\n          ctx.strokeStyle = self.lineColor;\r\n          ctx.beginPath();\r\n          ctx.moveTo(this.a.x, this.a.y);\r\n          ctx.lineTo(this.b.x, this.b.y);\r\n          ctx.stroke();\r\n        }\r\n\r\n        this.update = function() {\r\n          if (this.flag == \"v\") {\r\n            this.a.x += this.va;\r\n            this.b.x += this.vb;\r\n          } else if (flag == \"h\") {\r\n            this.a.y += this.va;\r\n            this.b.y += this.vb;\r\n          }\r\n\r\n          this.edges();\r\n        }\r\n\r\n        this.edges = function() {\r\n          if (this.flag == \"v\") {\r\n            if (this.a.x < 0 || this.a.x > cw) {\r\n              this.va *= -1;\r\n            }\r\n            if (this.b.x < 0 || this.b.x > cw) {\r\n              this.vb *= -1;\r\n            }\r\n          } else if (flag == \"h\") {\r\n            if (this.a.y < 0 || this.a.y > ch) {\r\n              this.va *= -1;\r\n            }\r\n            if (this.b.y < 0 || this.b.y > ch) {\r\n              this.vb *= -1;\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      for (var i = 0; i < linesNum; i++) {\r\n        var flag = i % 2 == 0 ? \"h\" : \"v\";\r\n        var l = new Line(flag);\r\n        linesRy.push(l);\r\n      }\r\n\r\n      function Draw() {\r\n        requestId = window.requestAnimationFrame(Draw);\r\n        ctx.clearRect(0, 0, cw, ch);\r\n\r\n        for (var i = 0; i < linesRy.length; i++) {\r\n          var l = linesRy[i];\r\n          l.draw();\r\n          l.update();\r\n        }\r\n        for (var i = 0; i < linesRy.length; i++) {\r\n          var l = linesRy[i];\r\n          for (var j = i + 1; j < linesRy.length; j++) {\r\n            var l1 = linesRy[j]\r\n            Intersect2lines(l, l1);\r\n          }\r\n        }\r\n      }\r\n\r\n      function Init() {\r\n        linesRy.length = 0;\r\n        for (var i = 0; i < linesNum; i++) {\r\n          var flag = i % 2 == 0 ? \"h\" : \"v\";\r\n          var l = new Line(flag);\r\n          linesRy.push(l);\r\n        }\r\n\r\n        if (requestId) {\r\n          window.cancelAnimationFrame(requestId);\r\n          requestId = null;\r\n        }\r\n\r\n        cw = canvas.width = window.innerWidth,\r\n          cx = cw / 2;\r\n        ch = canvas.height = window.innerHeight,\r\n          cy = ch / 2;\r\n\r\n        Draw();\r\n      };\r\n\r\n      setTimeout(function() {\r\n        Init();\r\n\r\n        addEventListener('resize', Init, false);\r\n      }, 15);\r\n\r\n      function Intersect2lines(l1, l2) {\r\n        var p1 = l1.a,\r\n          p2 = l1.b,\r\n          p3 = l2.a,\r\n          p4 = l2.b;\r\n        var denominator = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\r\n        var ua = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denominator;\r\n        var ub = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denominator;\r\n        var x = p1.x + ua * (p2.x - p1.x);\r\n        var y = p1.y + ua * (p2.y - p1.y);\r\n        if (ua > 0 && ub > 0) {\r\n          markPoint({\r\n            x: x,\r\n            y: y\r\n          })\r\n        }\r\n      }\r\n      // 绘制圆点\r\n      function markPoint(p) {\r\n        ctx.beginPath();\r\n        ctx.arc(p.x, p.y, 2, 0, 2 * Math.PI);\r\n        ctx.fillStyle = self.pointColor;\r\n        ctx.fill();\r\n      }\r\n\r\n      function randomIntFromInterval(mn, mx) {\r\n        return ~~(Math.random() * (mx - mn + 1) + mn);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.can()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\ncanvas {\r\n  background-color: rgba(255,255,255,0);\r\n  display: block;\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/bg.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('canvas',{style:({background: _vm.bgWrap}),attrs:{\"id\":_vm.id}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79b78476\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/bg.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79b78476\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./bg.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./bg.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./bg.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79b78476\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./bg.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/bg.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}